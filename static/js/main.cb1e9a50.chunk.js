(this["webpackJsonpproject-tiles"]=this["webpackJsonpproject-tiles"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/gems_add_152_b.0f20a41d.PNG"},38:function(e,t,a){e.exports=a.p+"static/media/PrehistoricIcon_44_b.e7dba318.png"},49:function(e,t,a){e.exports=a(60)},54:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),c=a.n(r),o=(a(54),a(13)),l=a(74),u=a(79),p=a(78),s=(a(59),a(38)),f=a.n(s),g=Object(l.a)((function(e){return{tileImage:function(e){return{display:"flex",maxWidth:"100%",maxHeight:"100%",overflow:"auto",borderRadius:"20px",outline:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"}}}}));var m={flipTile:function(e){return{type:"game_flipTile",tileId:e}}},d=Object(o.b)((function(e){return{phase:e.game.phase}}),m)((function(e){var t=e.tile,a=function(e){var t="matching"===e.phase.type&&!!e.phase.selectedTiles[e.tile.id];return e.tile.facingUp||t}(e)?t.image:f.a,n=g({facingUp:t.facingUp});return i.a.createElement("input",{type:"image",src:a,alt:"tile",onClick:function(){t.facingUp||e.flipTile(t.id)},className:n.tileImage})})),h=Object(l.a)((function(e){return Object(u.a)({rootContainer:function(e){return{height:"100vh",width:"".concat(e.xyRatio,"vh"),maxWidth:"100%",paddingBottom:"50px"}},gridY:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",padding:"10px 0 15px 0"},gridX:{maxHeight:"100%",overflow:"auto",flexWrap:"nowrap",display:"flex",flexDirection:"row",justifyContent:"center"},gridItem:{display:"flex",width:"100%",padding:"8px",justifyContent:"center"}})})),y=Object(o.b)((function(e){return e}),{})((function(e){var t=h({xyRatio:e.game.tileY[0].length/e.game.tileY.length*100});return i.a.createElement(p.a,{maxWidth:"lg",className:t.rootContainer},i.a.createElement("div",{className:t.gridY},e.game.tileY.map((function(a,n){return i.a.createElement("div",{className:t.gridX,key:n},a.map((function(a){return i.a.createElement("div",{className:t.gridItem,key:a},i.a.createElement(d,{tile:e.game.tiles[a]}))})))}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=a(11),j=a(2),v={paletteType:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}("paletteType")||"dark"};var O=a(42),x=a(43),w=a(45),T=a(46),E=a(6),C=a(32),I=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},k=function(e){return e%2===0},_=a(31),N=a.n(_),U=a(9),W=a.n(U);function Y(){return{xCount:4,yCount:5,tileConfigs:[].concat(Object(C.a)(M({type:"gem",image:N.a},10)),Object(C.a)(M({type:"path",image:W.a},10)))}}function M(e,t){return Array.from(Array(t),(function(){return e}))}function S(e,t,a){return e[a]?e[a][t]:""}var R=a(33),A=Object(j.a)({phase:{type:"matching",selectedTiles:{}}},function(){var e=Y(),t={},a=M(null,e.yCount).map((function(a,n){return M(null,e.xCount).map((function(e,a){var i={type:"gem",image:N.a,id:"".concat(a,"/").concat(n),facingUp:!1};return t=Object(j.a)({},t,Object(E.a)({},i.id,i)),i.id}))})),n=I(0,e.xCount),i=t[function(e,t,a){return e[a][t]}(a,n,0)];return t[i.id]=Object(j.a)({},i,{type:"path",image:W.a}),function e(n,i){var r=n.x,c=n.y,o=["left","right","down","down"],l=o[I(0,o.length)],u={x:r-1,y:c},p={x:r+1,y:c},s={x:r,y:c+1},f=t[S(a,u.x,u.y)],g=t[S(a,p.x,p.y)],m=t[S(a,s.x,s.y)];if("left"===l&&f&&"path"!==f.type)t[f.id]=Object(j.a)({},f,{type:"path",image:W.a}),e(u,i+1);else if("right"===l&&g&&"path"!==g.type)t[g.id]=Object(j.a)({},g,{type:"path",image:W.a}),e(p,i+1);else if(m)t[m.id]=Object(j.a)({},m,{type:"path",image:W.a}),e(s,i+1);else{if(k(i))return;var d=function e(t,a){var n=function(e){var t=I(0,e[0].length),a=I(0,e.length);return e[a][t]}(a);return"path"===t[n].type?e(t,a):t[n]}(t,a);t[d.id]=Object(j.a)({},d,{type:"path",image:W.a})}}({x:n,y:0},1),{tileY:a,tiles:t}}());function B(e,t){if("matching"!==e.phase.type)throw new H(t,e.phase.type);return e.phase}var H=function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(e,n){return Object(O.a)(this,a),t.call(this,"Incorrect phase of ".concat(n," for ").concat(e))}return a}(Object(T.a)(Error)),J=Object(b.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app_unit":return e;case"app_updatePaletteType":return Object(j.a)({},e,{paletteType:t.paletteType});default:return e}},game:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(console.log("gameReducer: previous state",t),a.type){case"game_unit":return t;case"game_flipTile":var n=B(t,a.type),i=R.a.size(n.selectedTiles)<2?Object(j.a)({},n.selectedTiles,Object(E.a)({},a.tileId,!0)):Object(E.a)({},a.tileId,!0),r=R.a.keys(i),c=!!r[0]&&!!r[1]&&t.tiles[r[0]].image===t.tiles[r[1]].image;return Object(j.a)({},t,{tiles:Object(j.a)({},t.tiles,(e={},Object(E.a)(e,r[0],Object(j.a)({},t.tiles[r[0]],{facingUp:c})),Object(E.a)(e,r[1],Object(j.a)({},t.tiles[r[1]],{facingUp:c})),e)),phase:Object(j.a)({},n,{selectedTiles:i})});default:return t}}}),P=a(77),D=a(76),G=a(26),X=a(44),z={primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:G.a.A400}},$="#fafafa",q="#303030",F=Object(b.c)(J),K=function(){return i.a.createElement(o.a,{store:F},i.a.createElement(i.a.StrictMode,null,i.a.createElement(D.a,{theme:(e=F.getState().app.paletteType,Object(X.a)({palette:Object(j.a)({type:e},z,{background:{default:"light"===e?$:q}})}))},i.a.createElement(P.a,null),i.a.createElement(y,null))));var e};c.a.render(i.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a.p+"static/media/SGI_86.f386ff8a.png"}},[[49,1,2]]]);
//# sourceMappingURL=main.cb1e9a50.chunk.js.map